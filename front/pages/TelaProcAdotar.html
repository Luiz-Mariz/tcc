<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>AdoteBH - Processo de Adoção</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
        .step-icon {
            @apply flex items-center justify-center w-12 h-12 rounded-full bg-purple-200 text-purple-800 font-bold text-xl;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col items-center antialiased">

    <header class="bg-purple-800 opacity-100 p-4 fixed top-0 left-0 w-full z-50">
        <div class="container mx-auto flex justify-between items-center">
            <a class="text-white font-extrabold text-2xl sm:text-3xl md:text-4xl tracking-wide" href="TelaInicial.html" aria-label="Página inicial Adote BH">
                Adote<span class="text-orange-400">BH</span>
            </a>

            <nav class="hidden md:flex items-center space-x-6" aria-label="Navegação Principal">
                <a class="text-gray-300 font-bold hover:text-white" href="TelaProcAdotar.html">Quero Adotar</a>
                <a class="text-gray-300 font-bold hover:text-white" href="TelaSejaParceiro.html">Seja Nosso Parceiro</a>
                <div id="user-profile-desktop" class="hidden items-center space-x-2">
                    <img id="user-avatar-desktop" src="" alt="Avatar do Usuário"
                        class="w-8 h-8 rounded-full object-cover border-2 border-white">
                    <span id="user-name-desktop" class="text-white font-medium"></span>
                    <a href="minha-conta.html"
                        class="text-gray-200 hover:text-white font-medium transition duration-300 ease-in-out">Minha
                        Conta</a>
                    <button id="logout-button-desktop"
                        class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium shadow transition duration-300 ease-in-out">Sair</button>
                </div>
                <a id="login-button-desktop" href="TelaLogin.html"
                    class="bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded font-medium transition duration-300 ease-in-out">
                    Entrar
                </a>
            </nav>

            <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none" aria-label="Abrir menu de navegação">
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>
        </div>

        <nav id="mobile-menu" class="md:hidden bg-purple-700 pb-4 hidden" aria-label="Navegação Mobile">
            <a href="TelaProcAdotar.html" class="block text-gray-200 hover:text-white px-4 py-2 text-sm transition duration-300 ease-in-out">Quero Adotar</a>
            <a href="TelaSejaParceiro.html" class="block text-gray-200 hover:text-white px-4 py-2 text-sm transition duration-300 ease-in-out">Seja Nosso Parceiro</a>
            <div id="user-profile-mobile" class="hidden flex flex-col space-y-2 mx-4 mt-2 px-4 py-2">
                <div class="flex items-center space-x-2">
                    <img id="user-avatar-mobile" src="" alt="Avatar do Usuário"
                        class="w-8 h-8 rounded-full object-cover border-2 border-white">
                    <span id="user-name-mobile" class="text-white font-medium"></span>
                </div>
                <a href="minha-conta.html"
                    class="block text-gray-200 hover:text-white px-4 py-2 text-sm transition duration-300 ease-in-out">Minha
                    Conta</a>
                <button id="logout-button-mobile"
                    class="block bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium shadow transition duration-300 ease-in-out text-center">Sair</button>
            </div>
            <a id="login-button-mobile" href="TelaLogin.html"
                class="block bg-purple-600 hover:bg-purple-500 text-white mx-4 mt-2 px-4 py-2 rounded text-sm shadow transition duration-300 ease-in-out text-center">
                Entrar
            </a>
        </nav>
    </header>

    <div class="pt-16 sm:pt-20 md:pt-24 w-full"></div>

    <main class="container mx-auto px-4 py-8 lg:py-12 max-w-4xl">
        <section class="text-center mb-10">
            <h1 class="text-4xl font-extrabold text-purple-900 mb-4">Seu Caminho para Adotar um Amigo</h1>
            <p class="text-lg text-gray-700">Entenda cada etapa do processo de adoção responsável no AdoteBH.</p>
        </section>

        <section class="mb-12">
            <h2 class="text-3xl font-bold text-purple-800 mb-8 text-center">Passo a Passo da Adoção</h2>
            <div class="space-y-8">
                <div class="flex flex-col md:flex-row items-start md:items-center bg-white p-6 rounded-xl shadow-md border border-purple-100">
                    <div class="step-icon flex-shrink-0 mb-4 md:mb-0 md:mr-6">1</div>
                    <div>
                        <h3 class="text-2xl font-semibold text-purple-900 mb-2">Explore Nossos Pets</h3>
                        <p class="text-gray-700 leading-relaxed">Navegue pela nossa galeria de animais disponíveis. Use os filtros de espécie, porte e idade para encontrar o companheiro que melhor se encaixa no seu estilo de vida e nas suas expectativas.</p>
                    </div>
                </div>

                <div class="flex flex-col md:flex-row items-start md:items-center bg-white p-6 rounded-xl shadow-md border border-purple-100">
                    <div class="step-icon flex-shrink-0 mb-4 md:mb-0 md:mr-6">2</div>
                    <div>
                        <h3 class="text-2xl font-semibold text-purple-900 mb-2">Manifeste seu Interesse</h3>
                        <p class="text-gray-700 leading-relaxed">Ao encontrar um pet que você se apaixonou, clique em "Ver Detalhes". Lá você encontrará mais informações sobre ele e um botão ou formulário para manifestar seu interesse na adoção. Preencha com atenção!</p>
                    </div>
                </div>

                <div class="flex flex-col md:flex-row items-start md:items-center bg-white p-6 rounded-xl shadow-md border border-purple-100">
                    <div class="step-icon flex-shrink-0 mb-4 md:mb-0 md:mr-6">3</div>
                    <div>
                        <h3 class="text-2xl font-semibold text-purple-900 mb-2">Entrevista e Visita</h3>
                        <p class="text-gray-700 leading-relaxed">Após a manifestação de interesse, entraremos em contato para agendar uma conversa. Essa é uma oportunidade para tirarmos dúvidas, conhecermos suas expectativas e garantir que o pet terá um lar adequado e cheio de amor. Uma visita ao local onde o animal se encontra também poderá ser agendada.</p>
                    </div>
                </div>

                <div class="flex flex-col md:flex-row items-start md:items-center bg-white p-6 rounded-xl shadow-md border border-purple-100">
                    <div class="step-icon flex-shrink-0 mb-4 md:mb-0 md:mr-6">4</div>
                    <div>
                        <h3 class="text-2xl font-semibold text-purple-900 mb-2">Assinatura do Termo de Adoção</h3>
                        <p class="text-gray-700 leading-relaxed">Se tudo estiver alinhado, o último passo é a assinatura do Termo de Adoção. Este documento formaliza a responsabilidade sobre o animal e assegura que ele receberá os cuidados necessários para uma vida feliz e saudável.</p>
                    </div>
                </div>

                <div class="flex flex-col md:flex-row items-start md:items-center bg-white p-6 rounded-xl shadow-md border border-purple-100">
                    <div class="step-icon flex-shrink-0 mb-4 md:mb-0 md:mr-6">5</div>
                    <div>
                        <h3 class="text-2xl font-semibold text-purple-900 mb-2">Boas-Vindas ao Seu Novo Amigo!</h3>
                        <p class="text-gray-700 leading-relaxed">Parabéns! É hora de levar seu novo companheiro para casa. Lembre-se que a adaptação pode levar um tempo, então tenha paciência e ofereça muito carinho e amor. O AdoteBH estará disponível para suporte caso precise.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-purple-100 p-8 rounded-xl shadow-inner mb-12 text-center">
            <h2 class="text-3xl font-bold text-purple-800 mb-6">Requisitos para Adotar</h2>
            <ul class="list-disc list-inside text-gray-700 space-y-2 max-w-2xl mx-auto text-left">
                <li>Ser maior de 18 anos.</li>
                <li>Apresentar documento de identidade (RG ou CNH) e comprovante de residência.</li>
                <li>Ter ciência da responsabilidade e dos custos envolvidos na criação de um animal (alimentação, veterinário, etc.).</li>
                <li>Garantir um ambiente seguro e adequado para o animal (espaço, abrigo, proteção contra fugas).</li>
                <li>Comprometer-se a oferecer amor, carinho e todos os cuidados necessários.</li>
            </ul>
        </section>

        <section class="bg-white p-8 rounded-xl shadow-md border border-purple-100">
            <h2 class="text-3xl font-bold text-purple-800 mb-6 text-center">Perguntas Frequentes (FAQ)</h2>
            <div class="space-y-6">
                <details class="group bg-gray-50 p-4 rounded-lg cursor-pointer">
                    <summary class="flex justify-between items-center text-lg font-semibold text-purple-900">
                        Qual é o custo para adotar um animal?
                        <span class="group-open:rotate-180 transition-transform duration-300">
                            <svg class="w-6 h-6 text-purple-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </span>
                    </summary>
                    <p class="mt-2 text-gray-700">A adoção no AdoteBH não tem custo. Nosso objetivo é encontrar lares amorosos para os animais. No entanto, lembre-se que ter um pet envolve custos com alimentação, saúde e bem-estar.</p>
                </details>

                <details class="group bg-gray-50 p-4 rounded-lg cursor-pointer">
                    <summary class="flex justify-between items-center text-lg font-semibold text-purple-900">
                        Os animais são vacinados e castrados?
                        <span class="group-open:rotate-180 transition-transform duration-300">
                            <svg class="w-6 h-6 text-purple-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </span>
                    </summary>
                    <p class="mt-2 text-gray-700">A maioria dos animais disponibilizados para adoção já são vermifugados, vacinados e castrados, ou com encaminhamento para esses procedimentos, dependendo da idade e condição. As informações específicas de cada pet estarão na sua página de detalhes.</p>
                </details>

                <details class="group bg-gray-50 p-4 rounded-lg cursor-pointer">
                    <summary class="flex justify-between items-center text-lg font-semibold text-purple-900">
                        Posso devolver o animal se não me adaptar?
                        <span class="group-open:rotate-180 transition-transform duration-300">
                            <svg class="w-6 h-6 text-purple-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </span>
                    </summary>
                    <p class="mt-2 text-gray-700">A adoção é um compromisso sério. Pedimos que a decisão de adotar seja muito bem pensada. Em casos extremos e justificados de inadaptação, entre em contato conosco para avaliarmos a situação e buscarmos a melhor solução para o bem-estar do animal.</p>
                </details>
            </div>
        </section>

        <section class="text-center py-12">
            <h2 class="text-3xl font-bold text-purple-800 mb-6">Pronto para Encontrar seu Novo Amigo?</h2>
            <a href="TelaInicial.html" class="bg-purple-800 text-white font-semibold px-8 py-4 rounded-full shadow-lg hover:bg-purple-900 transition duration-300 ease-in-out transform hover:-translate-y-1">
                Ver Pets para Adoção
            </a>
        </section>
    </main>

    <footer class="bg-purple-800 text-white py-6 mt-16 w-full">
        <div class="container mx-auto text-center">
            <p class="text-lg font-bold">Adote BH</p>
            <p class="text-sm">Ajudamos animais a encontrar um lar amoroso. Junte-se a nós!</p>
            <div class="mt-4 space-x-6">
                <a href="#sobre-nos" class="text-white hover:text-orange-400">Sobre nós</a>
                <a href="#termos-uso" class="text-white hover:text-orange-400">Termos de Serviço</a>
                <a href="#politica-privacidade" class="text-white hover:text-orange-400">Política de Privacidade</a>
            </div>
            <div class="mt-4">
                <p class="text-sm">&copy; 2025 Adote BH. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>
    
    <script>
        document.getElementById('mobile-menu-button').onclick = function() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        };

        // --- Configurações da API (As mesmas da Tela Inicial) ---
        const USER_PROFILE_API_URL = 'https://api.example.com/api/user/profile'; // <-- Substitua pelo URL real do seu backend para o perfil do usuário!
        const AUTH_TOKEN_KEY = 'authToken'; // Chave para o token no localStorage

        // --- Funções para o Perfil do Usuário (As mesmas da Tela Inicial) ---
        async function fetchUserData() {
            try {
                const token = localStorage.getItem(AUTH_TOKEN_KEY);
                if (!token || token === 'seu_token_de_autenticacao_aqui') {
                    console.log('Nenhum token de autenticação real encontrado ou placeholder. Usuário não logado.');
                    return null;
                }

                const response = await fetch(USER_PROFILE_API_URL, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    }
                });

                if (!response.ok) {
                    console.error(`Erro ao buscar dados do usuário: ${response.status} ${response.statusText}`);
                    if (response.status === 401 || response.status === 403) {
                        Swal.fire({
                            title: 'Sessão expirada!',
                            text: 'Por favor, faça login novamente.',
                            icon: 'warning',
                            timer: 3000,
                            timerProgressBar: true,
                            showConfirmButton: false
                        }).then(() => {
                            localStorage.removeItem(AUTH_TOKEN_KEY); // Limpa token inválido
                        });
                    }
                    return null;
                }

                const userData = await response.json();
                console.log('Dados do usuário recebidos:', userData);

                return {
                    name: userData.nome || userData.name,
                    avatar: userData.foto_perfil || userData.profile_url || 'https://via.placeholder.com/150/d3a0e6/FFFFFF?text=User'
                };

            } catch (error) {
                console.error('Erro na requisição da API de perfil:', error);
                Swal.fire({
                    title: 'Erro de conexão!',
                    text: 'Não foi possível carregar seu perfil. Tente novamente mais tarde.',
                    icon: 'error',
                    timer: 4000,
                    timerProgressBar: true,
                    showConfirmButton: false
                });
                return null;
            }
        }

        async function updateHeaderProfile() {
            const userData = await fetchUserData();

            const userProfileDesktop = document.getElementById('user-profile-desktop');
            const userNameDesktop = document.getElementById('user-name-desktop');
            const userAvatarDesktop = document.getElementById('user-avatar-desktop');
            const loginButtonDesktop = document.getElementById('login-button-desktop');
            
            let logoutButtonDesktop = document.getElementById('logout-button-desktop');
            if (!logoutButtonDesktop) {
                logoutButtonDesktop = document.createElement('button');
                logoutButtonDesktop.id = 'logout-button-desktop';
                logoutButtonDesktop.className = 'bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium shadow transition duration-300 ease-in-out';
                logoutButtonDesktop.textContent = 'Sair';
                logoutButtonDesktop.addEventListener('click', doLogout);

                const navDesktop = loginButtonDesktop.parentElement;
                const minhaContaLinkDesktop = document.createElement('a');
                minhaContaLinkDesktop.href = 'minha-conta.html';
                minhaContaLinkDesktop.className = 'text-gray-200 hover:text-white font-medium transition duration-300 ease-in-out';
                minhaContaLinkDesktop.textContent = 'Minha Conta';
                
                navDesktop.insertBefore(minhaContaLinkDesktop, loginButtonDesktop);
                navDesktop.insertBefore(logoutButtonDesktop, loginButtonDesktop);
            }

            const userProfileMobile = document.getElementById('user-profile-mobile');
            const userNameMobile = document.getElementById('user-name-mobile');
            const userAvatarMobile = document.getElementById('user-avatar-mobile');
            const loginButtonMobile = document.getElementById('login-button-mobile');
            
            let logoutButtonMobile = document.getElementById('logout-button-mobile');
            if (!logoutButtonMobile) {
                logoutButtonMobile = document.createElement('button');
                logoutButtonMobile.id = 'logout-button-mobile';
                logoutButtonMobile.className = 'block bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium shadow transition duration-300 ease-in-out text-center mt-2';
                logoutButtonMobile.textContent = 'Sair';
                logoutButtonMobile.addEventListener('click', doLogout);

                const userProfileMobileDiv = document.getElementById('user-profile-mobile');
                const minhaContaLinkMobile = document.createElement('a');
                minhaContaLinkMobile.href = 'minha-conta.html';
                minhaContaLinkMobile.className = 'block text-gray-200 hover:text-white px-4 py-2 text-sm transition duration-300 ease-in-out';
                minhaContaLinkMobile.textContent = 'Minha Conta';

                if (userProfileMobileDiv) {
                    userProfileMobileDiv.appendChild(minhaContaLinkMobile);
                    userProfileMobileDiv.appendChild(logoutButtonMobile);
                }
            }

            if (userData && userData.name && userData.avatar) {
                // Desktop
                userProfileDesktop.classList.remove('hidden');
                userProfileDesktop.classList.add('flex');
                userNameDesktop.textContent = userData.name;
                userAvatarDesktop.src = userData.avatar;
                loginButtonDesktop.classList.add('hidden');
                logoutButtonDesktop.classList.remove('hidden');

                // Mobile
                userProfileMobile.classList.remove('hidden');
                userProfileMobile.classList.add('flex', 'flex-col');
                userNameMobile.textContent = userData.name;
                userAvatarMobile.src = userData.avatar;
                loginButtonMobile.classList.add('hidden');
                logoutButtonMobile.classList.remove('hidden');
            } else {
                // Desktop
                userProfileDesktop.classList.add('hidden');
                userProfileDesktop.classList.remove('flex');
                loginButtonDesktop.classList.remove('hidden');
                logoutButtonDesktop.classList.add('hidden');

                // Mobile
                userProfileMobile.classList.add('hidden');
                userProfileMobile.classList.remove('flex', 'flex-col');
                loginButtonMobile.classList.remove('hidden');
                logoutButtonMobile.classList.add('hidden');
            }
        }

        // Função de Logout (copiada e ajustada da tela "Minha Conta")
        function doLogout() {
            Swal.fire({
                title: 'Tem certeza?',
                text: "Você será desconectado da sua conta.",
                icon: 'question',
                showCancelButton: true,
                confirmButtonColor: '#8B5CF6',
                cancelButtonColor: '#EF4444',
                confirmButtonText: 'Sim, sair!',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    localStorage.removeItem(AUTH_TOKEN_KEY); // Remove o token
                    Swal.fire(
                        'Desconectado!',
                        'Você foi desconectado com sucesso.',
                        'success'
                    ).then(() => {
                        window.location.href = 'index.html'; // Redireciona para a página inicial
                    });
                }
            });
        }


        // Chama a função para atualizar o cabeçalho ao carregar a página
        document.addEventListener('DOMContentLoaded', () => {
            updateHeaderProfile();
        });
    </script>
</body>
</html>